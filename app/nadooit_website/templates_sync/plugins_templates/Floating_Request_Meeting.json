{
    "id": "862879106506555393",
    "name": "Floating Request Meeting",
    "html": "{% load django_htmx %}\r\n\r\n<button\r\n  id=\"meeting-request-btn\"\r\n  class=\"floating-btn\"\r\n  hx-post=\"/create-meeting-request/\"\r\n  hx-trigger=\"click\"\r\n  hx-vals='{\"session_id\": \"{{ session_id }}\"}'\r\n  hx-swap=\"none\"\r\n>\r\n  Request Meeting\r\n</button>\r\n\r\n<style>\r\n  .floating-btn {\r\n    position: fixed;\r\n    bottom: 20px;\r\n    right: 20px;\r\n    border-radius: 50%;\r\n    padding: 10px;\r\n    background-color: red;\r\n    color: white;\r\n    cursor: pointer;\r\n  }\r\n</style>\r\n\r\n<script>\r\n  document.body.addEventListener(\"htmx:afterOnLoad\", function (event) {\r\n    const detail = event.detail;\r\n    if (detail.xhr.status === 200) {\r\n      const data = JSON.parse(detail.xhr.responseText);\r\n      if (data.status === \"success\") {\r\n        // Update the button color based on the meeting status\r\n        const meetingStatus = data.meeting_status;\r\n        const button = document.getElementById(\"meeting-request-btn\");\r\n        if (meetingStatus === \"pending\") {\r\n          button.style.backgroundColor = \"red\";\r\n        } else if (meetingStatus === \"accepted\") {\r\n          button.style.backgroundColor = \"green\";\r\n        }\r\n      } else {\r\n        console.error(\"Error creating MeetingRequest:\", data.error);\r\n      }\r\n    } else {\r\n      console.error(\"Error sending htmx request:\", detail.xhr.statusText);\r\n    }\r\n  });\r\n</script>"
}